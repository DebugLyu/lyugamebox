{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "pMgr",
    "require",
    "getInstance",
    "packet",
    "common",
    "msgbox",
    "msgcode",
    "TuiBingConfig",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "perBankerList",
    "ScrollView",
    "itemPreforb",
    "Prefab",
    "goldPrefab",
    "goldBtnLsit",
    "Button",
    "bankerNameLabel",
    "Label",
    "bankerGoldLabel",
    "bankerTimesLabel",
    "betPoolLabel",
    "maJiangList",
    "Node",
    "bgList",
    "_banker_id",
    "Integer",
    "_banker_name",
    "String",
    "_game_state",
    "_banker_times",
    "_banker_gold",
    "_south_pool",
    "Array",
    "_sky_pool",
    "_north_pool",
    "_select_gold",
    "_can_bet_gold",
    "_MajiangSpriteList",
    "SpriteFrame",
    "onLoad",
    "obj",
    "playerid",
    "gold",
    "push",
    "btn",
    "button",
    "getComponent",
    "select_gold",
    "parseInt",
    "node",
    "name",
    "max",
    "main_role",
    "interactable",
    "reSetGame",
    "i",
    "length",
    "bg",
    "removeAllChildren",
    "majiang1",
    "majiang2",
    "majiangnode",
    "OpenMajiang",
    "pointbg",
    "getChildByName",
    "active",
    "string",
    "initBanker",
    "onQueueChanged",
    "banker",
    "list",
    "bankerid",
    "bankername",
    "find",
    "info",
    "item",
    "instantiate",
    "sprite",
    "onChangeName",
    "playername",
    "type",
    "x",
    "y",
    "addChild",
    "height",
    "onGameStateChange",
    "state",
    "State",
    "Stop",
    "addMsg",
    "TUIBING_STATE_STOP",
    "Begin",
    "Begin_Check_Begin",
    "Begin_Check_Keep",
    "TUIBING_STATE_BEGIN",
    "WaitOpen",
    "TUIBING_STATE_WAITOPEN",
    "Openning",
    "TUIBING_STATE_OPENNING",
    "Reward",
    "TUIBING_STATE_REWARD",
    "onGoldAction",
    "id",
    "pos",
    "bgstr",
    "num",
    "Math",
    "round",
    "random",
    "width",
    "onAutoSelectGold",
    "onBetGold",
    "event",
    "self",
    "maxgold",
    "GOLD_NOT_ENOUGH",
    "TUIBING_SELECT_GOLD",
    "TUIBING_MORETHAN_BANKER",
    "p",
    "lpack",
    "send",
    "pack",
    "onSelectGold",
    "target",
    "onBetGoldCount",
    "changesprite",
    "sprite_node",
    "sprite_name",
    "Sprite",
    "frame",
    "realUrl",
    "url",
    "raw",
    "texture",
    "textureCache",
    "addImage",
    "setTexture",
    "spriteFrame",
    "namespr",
    "numspr",
    "onOpenMajiang",
    "majiangs",
    "random_1",
    "ceil",
    "random_2",
    "majianglist",
    "openmajiang",
    "open",
    "nums",
    "open1",
    "open2",
    "open3",
    "open4",
    "act1",
    "callFunc",
    "act2",
    "delayTime",
    "act3",
    "act4",
    "act5",
    "act6",
    "act7",
    "act",
    "sequence",
    "runAction",
    "onBankerInfo",
    "times"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var pMgr = require(\"PlayerManager\").getInstance()\nvar packet = require( 'Lpackage' )\nvar common = require('Common')\nvar msgbox = require('Msgbox')\nvar msgcode = require( 'Msgcode' )\nvar TuiBingConfig = require(\"TuiBingConfig\")\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        perBankerList : cc.ScrollView,\n        itemPreforb : cc.Prefab,\n        goldPrefab : cc.Prefab,\n\n        goldBtnLsit: [cc.Button],\n\n        bankerNameLabel : cc.Label,\n        bankerGoldLabel : cc.Label,\n        bankerTimesLabel : cc.Label,\n        betPoolLabel : cc.Label,\n\n        maJiangList:[cc.Node],\n        bgList:[cc.Node],\n        // 游戏属性\n        _banker_id : cc.Integer,\n        _banker_name : String,\n        _game_state : cc.Integer,\n        _banker_times : cc.Integer,\n        _banker_gold : cc.Integer,\n\n        _south_pool : new Array(),\n        _sky_pool : new Array(),\n        _north_pool : new Array(),\n\n        _select_gold : cc.Integer,\n        _can_bet_gold : cc.Integer, \n\n        _MajiangSpriteList : [cc.SpriteFrame],\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this._select_gold = 0;\n        var obj = {playerid: 0, gold : 0};\n        this._south_pool.push( obj );\n\n        var btn = this.goldBtnLsit[0];\n        if( btn != null ){\n            var button = btn.getComponent(cc.Button);\n            var select_gold = parseInt(btn.node.name) * 1000;\n            var max = pMgr.main_role.gold;\n            if( select_gold <= max){\n                button.interactable = false;\n                this._select_gold = select_gold;\n            }\n        }\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n\n    reSetGame: function() {\n        for (var i = 0; i < this.bgList.length; i++) {\n            var bg = this.bgList[i];\n            bg.removeAllChildren();\n        }\n        var obj = {majiang1:\"bg\", majiang2:\"bg\"};\n        for (var i = 0; i < this.maJiangList.length; i++) {\n            var majiangnode = this.maJiangList[i];\n            this.OpenMajiang( majiangnode, obj )\n            var pointbg = majiangnode.getChildByName( \"PointBg\" );\n            pointbg.active = false;\n        }\n        this.betPoolLabel.string = 0;\n    },\n\n    initBanker: function () {\n        this._banker_id = 0;\n        this._banker_name = 0;\n        this.bankerNameLabel.string = \"庄家\";\n        this.bankerGoldLabel.string = 0;\n        this.bankerTimesLabel.string = 0;\n        this.betPoolLabel.string = 0;\n    },\n\n    onQueueChanged: function( banker, list ) {\n        this._banker_id = banker.bankerid;\n        this._banker_name = banker.bankername;\n        this.bankerNameLabel.string = this._banker_name;\n\n        var node = cc.find(\"GameBgLayer/BankerList/view/content\");\n        node.removeAllChildren()\n\n        // console.log(\"id = \" + id + \";name = \"+ name);\n\n        for (var i = 0; i < list.length; i++) {\n            var info = list[i]\n            var item = cc.instantiate(this.itemPreforb);\n            var sprite = item.getComponent(\"PreBankerItem\");\n            sprite.onChangeName( info.playerid, info.playername, info.type );\n            item.x = 0;\n            item.y = - i * 40;\n            node.addChild( item )\n        }\n        node.height = list.length * 40;\n    },\n\n    onGameStateChange: function(state) {\n        this._game_state = state;\n        for (var i = 0; i < this.maJiangList.length; i++) {\n            var majiangnode = this.maJiangList[i];\n            majiangnode.active = ( state == 6 || state == 7 );\n        }\n        if(state == 5){\n            this.reSetGame();\n        }\n        switch(state){\n            case TuiBingConfig.State.Stop:{\n                this.initBanker();\n                msgbox.getInstance().addMsg(msgcode.TUIBING_STATE_STOP);\n            }break;\n            case TuiBingConfig.State.Begin:{\n            };\n            case TuiBingConfig.State.Begin_Check_Begin:{\n            };\n            case TuiBingConfig.State.Begin_Check_Keep:{\n                msgbox.getInstance().addMsg(msgcode.TUIBING_STATE_BEGIN);\n            }break;\n            case TuiBingConfig.State.WaitOpen:{\n                msgbox.getInstance().addMsg(msgcode.TUIBING_STATE_WAITOPEN);\n            }break;\n            case TuiBingConfig.State.Openning:{\n                msgbox.getInstance().addMsg(msgcode.TUIBING_STATE_OPENNING);\n            }break;\n            case TuiBingConfig.State.Reward:{\n                msgbox.getInstance().addMsg(msgcode.TUIBING_STATE_REWARD);\n            }break;\n        }\n    },\n\n    onGoldAction : function ( id, pos, gold ){\n        var bgstr = \"\";\n        if (pos == 1) {\n            bgstr = \"GameBgLayer/GameBg/SouthBg\";\n        }else if (pos == 2) {\n            bgstr = \"GameBgLayer/GameBg/SkyBg\";\n        }else if (pos == 3) {\n            bgstr  = \"GameBgLayer/GameBg/NorthBg\";\n        }\n        if (bgstr.length <= 5){\n            return;\n        }\n        var num = 0;\n        if ( gold < 10000 ){\n            num = 1;\n        }else if (gold >= 10000 && gold < 100000) {\n            num = 2;\n        }else if (gold >= 100000 ) {\n            num = 3;\n        }\n\n        var node = cc.find( bgstr );\n        for (var i = 0; i < num; i++) {\n            var x = Math.round(Math.random()*node.width) - node.width / 2;\n            x = x>0?x-30:x+30;\n            var y = Math.round(Math.random()*node.height) - node.height / 2;\n            y = y>0?y-30:y+30;\n            var gold = cc.instantiate(this.goldPrefab);\n            gold.x = x;\n            gold.y = y;\n            node.addChild( gold );\n        }\n    },\n\n    onAutoSelectGold: function(){\n        var max = pMgr.main_role.gold;\n        this._select_gold = 0;\n        for (var i = this.goldBtnLsit.length - 1; i >= 0; i--) {\n            var btn = this.goldBtnLsit[i];\n            var button = btn.getComponent(cc.Button);\n            var select_gold = parseInt(btn.node.name) * 1000;\n            if( select_gold <= this._can_bet_gold ){\n                if( select_gold > max ){\n                    button.interactable = true;\n                }else{\n                    button.interactable = false;\n                    this._select_gold = select_gold;\n                }\n            }\n        }\n    },\n\n    onBetGold : function( event, pos ){\n        if ( self._game_state != 5 ){\n            return;\n        }\n        var maxgold = pMgr.main_role.gold;\n        if (maxgold < 1000){\n            msgbox.getInstance().addMsg(msgcode.GOLD_NOT_ENOUGH);\n            return;\n        }\n        \n        if (this._select_gold ==0) {\n            msgbox.getInstance().addMsg(msgcode.TUIBING_SELECT_GOLD);\n            return;\n        }\n\n        if( this._select_gold > maxgold ){\n            this.onAutoSelectGold();\n        }\n\n        if( this._select_gold > this._can_bet_gold ){\n            msgbox.getInstance().addMsg(msgcode.TUIBING_MORETHAN_BANKER);\n            return;\n        }\n        \n        var p = new packet( \"ReqTuiBingBet\" );\n        p.lpack.pos = parseInt(pos);\n        p.lpack.gold = this._select_gold;\n        common.send( p.pack() );\n    },\n\n    onSelectGold: function( event, gold ){\n        var max = pMgr.main_role.gold;\n        var select_gold = parseInt(gold);\n        if (select_gold > max) {\n            return;\n        }\n        if ( select_gold > this._can_bet_gold ){\n            return;\n        }\n        var node = event.target;\n        for (var i = 0; i < this.goldBtnLsit.length; i++) {\n            var btn = this.goldBtnLsit[i];\n            var button = btn.getComponent(cc.Button);\n            button.interactable = btn.node.name != node.name;\n        }\n        this._select_gold = select_gold;\n    },\n\n    onBetGoldCount: function( gold ){\n        this.betPoolLabel.string = gold;\n        this._can_bet_gold = this._banker_gold - gold;\n    },\n\n    OpenMajiang: function( node, obj ){\n        var changesprite = function( sprite_node, sprite_name ){\n            var sprite = sprite_node.getComponent( cc.Sprite );\n            var frame = new cc.SpriteFrame;\n            var realUrl = cc.url.raw(\"resources/erguotou/\"+sprite_name+\".png\");\n            var texture = cc.textureCache.addImage(realUrl);\n            frame.setTexture(texture);\n            sprite.spriteFrame = frame;\n        }\n        var majiang1 = node.getChildByName( \"Majiang1\" );\n        var majiang2 = node.getChildByName( \"Majiang2\" );\n        var pointbg = node.getChildByName( \"PointBg\" );\n        pointbg.active = true;\n        var namespr = \"img_majiang_\" + obj.majiang1\n        changesprite(majiang1, namespr)\n        namespr = \"img_majiang_\" + obj.majiang2\n        changesprite(majiang2, namespr)\n        if (obj.majiang1 == \"bg\"){\n            return\n        }\n        var numspr = pointbg.getChildByName( \"NumSpr\" );\n        var num = (obj.majiang1+obj.majiang2)%10;\n        namespr = \"img_\"+ num +\"point_num\";\n        changesprite(numspr, namespr);\n    },\n\n    // majiangs 0 庄 1 南 2 天 3 北 {majiang1 majiang2}\n    onOpenMajiang: function( majiangs ){\n        // 先撒骰子\n        var random_1 = Math.ceil(Math.random()*5 + 1);\n        var random_2 = Math.ceil(Math.random()*5 + 1);\n\n        var majianglist = this.maJiangList\n        var openmajiang = this.OpenMajiang\n        var open = function( id ) {\n            var node = majianglist[ id ];\n            var nums = majiangs[ id ];\n            openmajiang( node, nums );\n        }\n        var open1 = function(){open(0);}\n        var open2 = function(){open(1);}\n        var open3 = function(){open(2);}\n        var open4 = function(){open(3);}\n    \n        var act1 = cc.callFunc( open1 )\n        var act2 = cc.delayTime(0.5);\n        var act3 = cc.callFunc( open2 )\n        var act4 = cc.delayTime(0.5);\n        var act5 = cc.callFunc( open3 )\n        var act6 = cc.delayTime(0.5);\n        var act7 = cc.callFunc( open4 )\n        var act = cc.sequence(act1, act2, act3, act4, act5, act6, act7);\n        this.node.runAction(act);\n    },\n\n    onBankerInfo: function( obj ) {\n        this._banker_id = obj.id;\n        this._banker_name = obj.name;\n        this._banker_times = obj.times;\n        this._banker_gold = obj.gold;\n        this.bankerNameLabel.string = obj.name;\n        this.bankerGoldLabel.string = obj.gold;\n        this.bankerTimesLabel.string = obj.times;\n    },\n});\n"
  ]
}