{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "statics",
    "pb",
    "init",
    "loader",
    "loadRes",
    "err",
    "arr",
    "ProtoBuf",
    "protoFromString",
    "lsockte",
    "require",
    "notice",
    "msgcode",
    "packet",
    "cmm",
    "_isinit",
    "_pb",
    "_ip",
    "_socket",
    "_link_times",
    "Return",
    "reSetTimes",
    "getNetworkState",
    "state",
    "connect",
    "console",
    "log",
    "getPb",
    "getSocket",
    "send",
    "buffer",
    "connectWithFunc",
    "func",
    "env",
    "registerCallback",
    "reloginToMainView",
    "account",
    "sys",
    "localStorage",
    "getItem",
    "password",
    "p",
    "lpack",
    "pack",
    "reLogin",
    "ll",
    "addMsg",
    "NETWORK_UNCONNECT",
    "scenename",
    "director",
    "getScene",
    "name",
    "type",
    "msg",
    "NETWORK_RELINK",
    "NETWORK_RELOGIN",
    "self",
    "callback",
    "loadScene",
    "removeMsg",
    "module",
    "exports"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\n    statics: {\n        pb : null,\n        init : function(){\n            cc.loader.loadRes(\"gamebox\", function (err, arr){\n                pb = ProtoBuf.protoFromString(arr); \n            });\n        },\n    },\n});\n\nvar lsockte = require(\"Lwebsocket\")\nvar ProtoBuf = require(\"protobuf\")\nvar notice = require(\"Notice\")\nvar msgcode = require( 'Msgcode' )\nvar packet = require( 'Lpackage' )\n\nvar cmm = (function(){\n    // var Return = {\n    //     Property: \"Test Static Property\",    //��������\n    //     Method: function(){    //���з���\n    //         alert(_Field);    //����˽���ֶ�\n    //         privateMethod();    //����˽�÷���\n    //     },\n    // };    //���巵�صĹ��ж���\n \n    // var _Field = \"Test Static Field\";    //˽���ֶ�\n    // var privateMethod = function(){    //˽�з���\n    //     alert(Return.Property);    //��������\n    // }\n\n    var _isinit = false;\n \tvar _pb = null;\n \tvar _ip = \"194.168.0.179\"\n \tvar _socket = new lsockte(_ip,8001);\n \tvar _link_times = 0;\n \t\n \tvar Return = {\n \t\tinit: function(){\n \t\t\tcc.loader.loadRes(\"gamebox\", function (err, arr){\n \t\t\t\t_pb = ProtoBuf.protoFromString(arr); \n \t\t\t});\n \t\t\tvar lsockte = require(\"Lwebsocket\");\n \t\t\t_isinit = true;\n \t\t},\n \t\treSetTimes: function () {\n \t\t\t_link_times = 0;\n \t\t},\n \t\tgetNetworkState: function(){\n \t\t\treturn _socket.state;// 0 un init 1 unlink 2 linker\n \t\t},\n \t\tconnect :function (){\n \t\t\tconsole.log(\"state \"+this.getNetworkState());\n \t\t\tif(this.getNetworkState() == 3){\n \t\t\t\treturn;\n \t\t\t}\t\n\n \t\t\t_socket.connect();\n \t\t\t_link_times += 1;\n \t\t},\n \t\tgetPb: function() {\n \t\t\treturn _pb;\n \t\t},\n \t\tgetSocket: function() {\n \t\t\treturn _socket;\n \t\t},\n \t\tsend: function( buffer ) {\n \t\t\t_socket.send(buffer);\n \t\t},\n \t\tconnectWithFunc: function(func, env){\n \t\t\t_socket.registerCallback(func,env);\n \t\t\tthis.connect();\n \t\t},\n\n \t\treloginToMainView: function(){\n \t\t\tvar account = cc.sys.localStorage.getItem('account');\n \t\t\tvar password = cc.sys.localStorage.getItem('password');\n \t\t\tvar p = new packet( \"Reqlogin\" );\n\t\t    p.lpack.account = account;\n\t\t    p.lpack.password = password;\n\t\t    _socket.send(p.pack());\n \t\t},\n\n \t\treLogin: function() {\n \t\t\tif ( _link_times > 3 ){\n \t\t\t\t_link_times = 0;\n\t\t\t\tcc.ll.notice.addMsg(2,msgcode.NETWORK_UNCONNECT,null,null,908);\n\t\t\t\treturn;\n\t\t\t}\n \t\t\tvar scenename = cc.director.getScene().name;\n \t\t\tif( scenename == \"\" || scenename == \"loadingview\" || scenename == \"loginview\"){\n \t\t\t\tthis.connect();\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\tvar type = 0; // 0 do nothing 1 back to loginview 2 auto relink and to mainview\n\t\t\tvar msg = \"\";\n \t\t\tvar account = cc.sys.localStorage.getItem('account');\n \t\t\tvar password = cc.sys.localStorage.getItem('password');\n\n \t\t\tif (account != null && account != \"\"){\n \t\t\t\tmsg = msgcode.NETWORK_RELINK;\n \t\t\t\ttype = 2;\n \t\t\t}else{\n \t\t\t\tmsg = msgcode.NETWORK_RELOGIN;\n \t\t\t\ttype = 1;\n \t\t\t}\n \t\t\tvar self = this;\n \t\t\tvar callback = function() {\n \t\t\t\tif(type == 1){\n \t\t\t\t\tcc.director.loadScene(\"loginview\");\n \t\t\t\t}else if (type == 2) {\n\t\t\t\t\tself.connectWithFunc( \"reloginToMainView\", self )\n \t\t\t\t}\n \t\t\t\tcc.ll.notice.removeMsg( 908 );\n \t\t\t}\n \t\t\tcc.ll.notice.addMsg(2,msg,callback,null,908);\n \t\t}\n \t};\n    return Return;    //���ɹ��о�̬Ԫ��\n})();\n\nmodule.exports = cmm;\n\n// var StaticClass = (function(){\n//     var Return = {\n//         Property: \"Test Static Property\",    //��������\n//         Method: function(){    //���з���\n//             alert(_Field);    //����˽���ֶ�\n//             privateMethod();    //����˽�÷���\n//         },\n//     };    //���巵�صĹ��ж���\n \n//     var _Field = \"Test Static Field\";    //˽���ֶ�\n//     var privateMethod = function(){    //˽�з���\n//         alert(Return.Property);    //��������\n//     }\n//     return Return;    //���ɹ��о�̬Ԫ��\n// })();\n"
  ]
}