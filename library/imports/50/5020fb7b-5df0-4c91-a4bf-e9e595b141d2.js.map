{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "common",
    "require",
    "msgbox",
    "notice",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "loadingBar",
    "ProgressBar",
    "tips",
    "Label",
    "_isLoading",
    "_stateStr",
    "_loadkey",
    "_loadingList",
    "String",
    "onLoad",
    "sys",
    "isNative",
    "isMobile",
    "cvs",
    "node",
    "getComponent",
    "Canvas",
    "fitHeight",
    "fitWidth",
    "totalLength",
    "width",
    "init",
    "getInstance",
    "onLoadNext",
    "onLoadComplete",
    "director",
    "loadScene",
    "loader",
    "onComplete",
    "length",
    "name",
    "startPreloading",
    "self",
    "onProgress",
    "completedCount",
    "totalCount",
    "item",
    "_progress",
    "progress",
    "loadResDir",
    "err",
    "assets",
    "update",
    "dt",
    "string",
    "Math",
    "floor",
    "t",
    "Date",
    "now",
    "i"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var common = require(\"Common\");\nvar msgbox = require(\"Msgbox\");\nvar notice = require(\"Notice\")\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        loadingBar: cc.ProgressBar,\n        tips: cc.Label,\n\n        _isLoading : false,\n        _stateStr:\"\",\n        _loadkey : 0,\n        _loadingList:[cc.String],\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(!cc.sys.isNative && cc.sys.isMobile){\n            var cvs = this.node.getComponent(cc.Canvas);\n            cvs.fitHeight = true;\n            cvs.fitWidth = true;\n        }\n        this.loadingBar.totalLength = this.loadingBar.node.width;\n        common.init();\n        msgbox.getInstance();//初始化弹窗\n        notice.getInstance().init();\n        this._loadingList = [\"loading\",\"erguotou\",\"login\",\"main\",\"profab\",\"res_common\"];\n        this.onLoadNext();\n    },\n\n    onLoadComplete:function(){\n        this._isLoading = false;\n        this._stateStr = \"准备登陆\";\n        cc.director.loadScene(\"loginview\");\n        cc.loader.onComplete = null;\n    },\n\n    onLoadNext : function () {\n        if(this._loadkey >= this._loadingList.length){\n            this.onLoadComplete();\n        }else{\n            var name = this._loadingList[ this._loadkey ];\n            this.startPreloading( name );\n        }\n        this._loadkey = this._loadkey + 1;\n    },\n\n    startPreloading:function(name){\n        this._stateStr = \"正在加载\"+name+\"，请稍候\";\n        this._isLoading = true;\n        var self = this;\n        \n        cc.loader.onProgress = function ( completedCount, totalCount,  item ){\n            // console.log(\"completedCount:\" + completedCount + \",totalCount:\" + totalCount );\n            if(self._isLoading){\n                self._progress = completedCount/totalCount;\n                self.loadingBar.progress = self._progress;\n            }\n        };\n        \n        cc.loader.loadResDir(name, function (err, assets) {\n            self.onLoadNext();\n        });      \n    },\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if(this._stateStr.length == 0){\n            return;\n        }\n        this.tips.string = this._stateStr + ' ';\n        if(this._isLoading){\n            this.tips.string += Math.floor(this._progress * 100) + \"%\";   \n        }\n        else{\n            var t = Math.floor(Date.now() / 1000) % 4;\n            for(var i = 0; i < t; ++ i){\n                this.tips.string += '.';\n            }            \n        }\n    }\n});\n"
  ]
}